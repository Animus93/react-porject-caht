"use strict";(self.webpackChunkreact_porject_caht=self.webpackChunkreact_porject_caht||[]).push([[362],{1362:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(5861),a=t(9439),i=t(7757),s=t.n(i),c=t(2791),o=t(9101),l=t(162),d=t(9265),u="LeftBlok_content__QNNSR",_="LeftBlok_each__XyTeO",m="LeftBlok_online__SAlSN LeftBlok_indicator__K5V5j",h="LeftBlok_offline__lelKe LeftBlok_indicator__K5V5j",f=t(184),x=function(){var e=(0,d.zQ)().data;return(0,f.jsx)(f.Fragment,{children:e&&e.map((function(e){return(0,f.jsx)("div",{className:u,children:(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("span",{className:e.isOnline?h:m,children:" "}),(0,f.jsx)("b",{children:e.user.name})]})},e.user.email)}))})},j="MainForm_content__f9e54",v="MainForm_leftBlok__IoVdE",p="MainForm_rightBlok__aqzqY",k="MainForm_caht__dkCmm",F="MainForm_cahtMessage__K06jE",M="MainForm_createdAt__39lFz",N="MainForm_myMessage__asrmx MainForm_cahtMessage__K06jE",g="MainForm_name__+ZKQz",w="MainForm_text__1SW63",L="MainForm_user__jd2wi",E="MainForm_inp__BtdlU",b=function(){var e=(0,d.nF)(),n=(0,a.Z)(e,1)[0],t=(0,o.useSelector)((function(e){return e.user})),i=(0,l.E0)(),u=i.data,_=i.isLoading,m=(0,l.Ed)(),h=(0,a.Z)(m,1)[0],b=(0,d.Ht)(),B=(0,a.Z)(b,1)[0],C=(0,l.oV)(),y=(0,a.Z)(C,1)[0];(0,c.useEffect)((function(){var e=document.querySelector("#messages");if(e.children[0].lastElementChild)return e.children[0].lastElementChild.scrollIntoView()}),[u]);var S=function(){var e=(0,r.Z)(s().mark((function e(n){var r,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key){e.next=8;break}return n.preventDefault(),r=n.currentTarget.textContent,n.currentTarget.textContent="",a="".concat((new Date).toLocaleDateString().slice(0,-5)," ").concat((new Date).toLocaleTimeString().slice(0,-3)),i={createdAt:a,name:t.user.name,text:r},e.next=8,y(i);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:j,children:[(0,f.jsxs)("div",{className:L,children:[(0,f.jsx)("b",{children:t.user.name}),(0,f.jsx)("button",{onClick:function(){return n(t.id)},children:"Logout"})]}),window.screen.width>1e3&&(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("p",{children:(0,f.jsx)("b",{children:"Friends Online"})}),(0,f.jsx)(x,{})]}),(0,f.jsxs)("div",{id:"messages",className:p,children:[_?(0,f.jsx)("p",{children:"Load chat messages"}):(0,f.jsx)("div",{className:k,children:u.map((function(e){return(0,f.jsxs)("div",{id:"caht",className:e.name===t.user.name?N:F,children:[(0,f.jsx)("p",{className:g,children:e.name}),(0,f.jsx)("p",{className:w,children:e.text}),(0,f.jsx)("p",{className:M,children:e.createdAt})]},e.id)}))}),(0,f.jsx)("div",{className:E,"data-placeholder":"Message",contentEditable:"true",onKeyDown:S}),(0,f.jsx)("button",{onClick:function(){h(),B()},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})]})}},5861:function(e,n,t){function r(e,n,t,r,a,i,s){try{var c=e[i](s),o=c.value}catch(l){return void t(l)}c.done?n(o):Promise.resolve(o).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var s=e.apply(n,t);function c(e){r(s,a,i,c,o,"next",e)}function o(e){r(s,a,i,c,o,"throw",e)}c(void 0)}))}}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=362.3d00b5b7.chunk.js.map